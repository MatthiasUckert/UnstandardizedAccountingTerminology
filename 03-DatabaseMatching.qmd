---
title: "Database Item Matching"
---

```{r}
#| echo: false 
#| warning: false 
#| message: false

# Load required packages
library(DT)
library(arrow)

source("R/02-TableFunctions.R")
```

------------------------------------------------------------------------

# Overview

...

**Download Worldscope/Compustat Matching:** ðŸ“¥ [Excel File (62 KB)](downloads/DatabaseConceptMatching.xlsx)

## Worldscope

::: panel-tabset
```{r}
#| echo: false
#| warning: false
#| message: false

lst_matching <- arrow::read_parquet("data/DatabaseMatching.parquet") %>% 
  dplyr::select(-Order) %>% 
  dplyr::rename_with(~ gsub("\\.", "\n", .)) %>% 
  dplyr::select(-`Du\net\nal\n\n(2022)`) %>% 
  tidyr::nest(.by = c(Database, Panel)) %>% 
  dplyr::mutate(ID = paste0(Database, "-", Panel))
lst_matching <- purrr::set_names(lst_matching$data, lst_matching$ID)
```

### Income Statement

```{r}
#| echo: false
#| warning: false
#| message: false

create_interactive_table(
  .data = lst_matching$`Worldscope-Income Statement`[, 1:3],
  .page_length = 10L,
  .column_align = c("left", "left", "left"),
  .header_align = "left",
  .filter = "none",
  .font_size = 13L,
  .row_padding = 2L
)  
```

### Balance Sheet

```{r}
#| echo: false
#| warning: false
#| message: false

create_interactive_table(
  .data = lst_matching$`Worldscope-Balance Sheet`[, 1:3],
  .page_length = 10L,
  .column_align = c("left", "left", "left"),
  .header_align = "left",
  .filter = "none",
  .font_size = 13L,
  .row_padding = 2L
)  
```
:::

## Compustat

::: panel-tabset
### Income Statement

```{r}
#| echo: false
#| warning: false
#| message: false
 
create_interactive_table(
  .data = lst_matching$`Compustat-Income Statement`[, 1:3],
  .page_length = 10L,
  .column_align = c("left", "left", "left"),
  .header_align = "left",
  .filter = "none",
  .font_size = 13L,
  .row_padding = 2L
)  
```

### Balance Sheet

```{r}
#| echo: false
#| warning: false
#| message: false

create_interactive_table(
  .data = lst_matching$`Compustat-Balance Sheet`[, 1:3],
  .page_length = 10L,
  .column_align = c("left", "left", "left"),
  .header_align = "left",
  .filter = "none",
  .font_size = 13L,
  .row_padding = 2L
)  
```
:::
