---
title: "Terms & Concepts"
---
```{r}
#| echo: false
#| warning: false
#| message: false

# Load required packages
library(DT)
library(arrow)

# Source the table functions
source("R/02-TableFunctions.R")
source("R/04-CreateTsneWidget.R")

tab_termlist <- arrow::read_parquet("data/Termlists.parquet")
tab_conceptlist <- arrow::read_parquet("data/Conceptlists.parquet")
tab_mc_termlist <- arrow::read_parquet("data/MostCommonTerms.parquet")
tab_mc_conceptlist <- arrow::read_parquet("data/MostCommonConcepts.parquet")

default_table <- function(.tab) {
  create_interactive_table(
    .data = .tab,
    .page_length = 10L,
    .column_align = c("left", "left", "left"),
    .header_align = "left",
    .filter = "none",
    .font_size = 13L,
    .row_padding = 2L
  )
}
```

------------------------------------------------------------------------

# Overview

We construct two alternative accounting dictionaries following top-down and bottom-up approaches. Each dictionary consists of:

-   **Term Lists**: Unique accounting terms appearing in financial reports
-   **Concept Lists**: Mappings showing which terms describe the same underlying accounting concepts (i.e., synonyms)

**Top-Down:** Terms collected from IFRS, US GAAP, and UK GAAP authoritative sources and specialized accounting dictionaries. Terms explicitly classified as synonyms are grouped by concept. Lists are refined using a GPT-based procedure and manual validation, then restricted to terminology observed in our global corpus.

**Bottom-Up:** Terms extracted from XBRL filings on EDGAR by parsing Exhibit 101.LAB files, which map XBRL taxonomy tags to the natural language labels firms use in their reports. To reduce noise, a term must appear in at least 20 distinct filings. We apply a majority disambiguation rule, removing terms that appear in less than 5% of all filings for a given concept. An international version is created by repeating these steps for non-US firms cross-listed in the United States that file 20-F reports using the IFRS Taxonomy.

------------------------------------------------------------------------

# Term Lists

Complete list of unique accounting terms identified in each dictionary. Each term has a unique identifier (TID) and n-gram count indicating whether it consists of one word, two words, etc.

游닌 **Download:** [Excel File (2.9 MB)](downloads/Termlists.xlsx)

::: panel-tabset
### Top-Down
```{r}
#| echo: false
#| warning: false
#| message: false
tab_termlist %>%
  dplyr::filter(Termlist == "Top-Down") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```

### Bottom-Up (10-Ks)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_termlist %>%
  dplyr::filter(Termlist == "Bottom-Up (10-Ks)") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```

### Bottom-Up (20-Fs)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_termlist %>%
  dplyr::filter(Termlist == "Bottom-Up (20-Fs)") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```
:::

------------------------------------------------------------------------

# Concept Lists

Shows which terms are synonyms (i.e., describe the same underlying accounting concept). Terms sharing the same concept ID (CID) are used interchangeably to describe the same economic item.

游닌 **Download:** [Excel File (2.7 MB)](downloads/Conceptlists.xlsx)

::: panel-tabset
### Top-Down
```{r}
#| echo: false
#| warning: false
#| message: false

tab_conceptlist %>%
  dplyr::filter(Conceptlist == "Top-Down") %>%
  dplyr::select(-Conceptlist) %>%
  default_table()
```

### Bottom-Up (10-Ks)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_conceptlist %>%
  dplyr::filter(Conceptlist == "Bottom-Up (10-Ks)") %>%
  dplyr::select(-Conceptlist) %>%
  default_table()
```

### Bottom-Up (20-Fs)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_conceptlist %>%
  dplyr::filter(Conceptlist == "Bottom-Up (20-Fs)") %>%
  dplyr::select(-Conceptlist) %>%
  default_table()
```
:::

------------------------------------------------------------------------

# Most Common Terms

The same terms as in Term Lists above, but ranked by frequency of use across all reports in our corpus. Shows how often each term appears (FREQUENCY), the number of observations (OBS), and the number of distinct firms using the term (FIRMS). This reveals which accounting terms are most prevalent in reporting practice.

游닌 **Download:** [Excel File (5.1 MB)](downloads/MostCommonTerms.xlsx)

::: panel-tabset
### Top-Down
```{r}
#| echo: false
#| warning: false
#| message: false
tab_mc_termlist %>%
  dplyr::filter(Termlist == "Top-Down") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```

### Bottom-Up (10-Ks)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_mc_termlist %>%
  dplyr::filter(Termlist == "Bottom-Up (10-Ks)") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```

### Bottom-Up (20-Fs)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_mc_termlist %>%
  dplyr::filter(Termlist == "Bottom-Up (20-Fs)") %>%
  dplyr::select(-Termlist) %>%
  default_table()
```
:::

------------------------------------------------------------------------

# Most Common Concepts

The same concepts as in Concept Lists above, but ranked by frequency and showing all synonymous terms used for each concept. For each concept, you can see the different terms firms use along with usage statistics (FREQUENCY, OBS, FIRMS). This illustrates the extent of terminology variation for the most frequently reported accounting concepts.

游닌 **Download:** [Excel File (4.8 MB)](downloads/MostCommonConcepts.xlsx)

::: panel-tabset
### Top-Down
```{r}
#| echo: false
#| warning: false
#| message: false

tab_mc_conceptlist %>%
  dplyr::filter(Conceptlist == "Top-Down") %>%
  dplyr::select(-c(Conceptlist, RankTID, TID)) %>%
  default_table()
```

### Bottom-Up (10-Ks)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_mc_conceptlist %>%
  dplyr::filter(Conceptlist == "Bottom-Up (10-Ks)") %>%
  dplyr::select(-c(Conceptlist, RankTID, TID)) %>%
  default_table()
```

### Bottom-Up (20-Fs)
```{r}
#| echo: false
#| warning: false
#| message: false

tab_mc_conceptlist %>%
  dplyr::filter(Conceptlist == "Bottom-Up (20-Fs)") %>%
  dplyr::select(-c(Conceptlist, RankTID, TID)) %>%
  default_table()
```
:::